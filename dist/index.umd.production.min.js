/**
 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).CKEditor4React={},e.React)}(this,(function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n=r(t),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function a(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}var i=["activeEnterModeChange","activeFilterChange","afterCommandExec","afterInsertHtml","afterPaste","afterPasteFromWord","afterSetData","afterUndoImage","ariaEditorHelpLabel","ariaWidget","autogrow","beforeCommandExec","beforeDestroy","beforeGetData","beforeModeUnload","beforeSetMode","beforeUndoImage","blur","change","configLoaded","contentDirChanged","contentDom","contentDomInvalidated","contentDomUnload","contentPreview","customConfigLoaded","dataFiltered","dataReady","destroy","dialogHide","dialogShow","dirChanged","doubleclick","dragend","dragstart","drop","elementsPathUpdate","exportPdf","fileUploadRequest","fileUploadResponse","floatingSpaceLayout","focus","getData","getSnapshot","insertElement","insertHtml","insertText","instanceReady","key","langLoaded","loadSnapshot","loaded","lockSnapshot","maximize","menuShow","mode","notificationHide","notificationShow","notificationUpdate","paste","pasteFromWord","pluginsLoaded","readOnly","removeFormatCleanup","required","resize","save","saveSnapshot","selectionChange","setData","stylesRemove","stylesSet","template","toDataFormat","toHtml","uiSpace","unlockSnapshot","updateSnapshot","widgetDefinition"],c=["beforeLoad","namespaceLoaded"],s=a(a([],i,!0),c,!0),d="__CKE__";function u(e){return"".concat(d).concat(e)}function l(e){return e.substr(d.length)}function f(e){var t=e.substr(0,1).toUpperCase()+e.substr(1);return"on".concat(t)}function p(e){return e.substr(2,1).toLowerCase()+e.substr(3)}var y=a(a([],i,!0),c,!0).reduce((function(e,t){var r;return o(o({},e),((r={})[t]=u(t),r))}),{});function m(e){return e.split(/(?=[A-Z])/).join("-").toLowerCase()}function b(e,t,r){var n={display:"none",visibility:"hidden"};return"classic"===e?n:"ready"===t?null!=r?r:void 0:n}function g(e){var t=e.debug,r=e.editor,n=e.evtName,o=e.handler,a=e.listenerData,i=e.priority,c=t&&Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),s=o;return t&&(s=function(e){console.log({operation:"invoke",editor:r.name,evtName:n,handlerId:c,data:e.data,listenerData:e.listenerData}),o(e)}),t&&console.log({operation:"register",editor:r.name,evtName:n,handlerId:c}),r.on(n,s,null,a,i),function(){t&&console.log({operation:"unregister",editor:r.name,evtName:n,handlerId:c}),r.removeListener(n,s)}}var h,v={};function O(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function S(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}function E(e,t){return"CKEDITOR"in window?Promise.resolve(CKEDITOR):"string"!=typeof e||e.length<1?Promise.reject(new TypeError("CKEditor URL must be a non-empty string.")):(h||(h=E.scriptLoader(e).then((function(e){return t&&t(e),e}))),h)}Object.defineProperty(v,"__esModule",{value:!0}),E.scriptLoader=function(e){return new Promise((function(t,r){var n,o,a,i,c;n=e,o=function(e){return h=void 0,e?r(e):window.CKEDITOR?void t(CKEDITOR):r(new Error("Script loaded from editorUrl doesn't provide CKEDITOR namespace."))},i=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script"),"function"==typeof o&&(a=o,o={}),o=o||{},a=a||function(){},c.type=o.type||"text/javascript",c.charset=o.charset||"utf8",c.async=!("async"in o)||!!o.async,c.src=n,o.attrs&&function(e,t){for(var r in t)e.setAttribute(r,t[r])}(c,o.attrs),o.text&&(c.text=String(o.text)),("onload"in c?O:S)(c,a),c.onload||O(c,a),i.appendChild(c)}))},v.debounce=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){clearTimeout(r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];r=setTimeout(e.bind.apply(e,[n].concat(a)),t)}};var j=v.getEditorNamespace=E,C=n.useEffect,w=n.useReducer,x=n.useRef,P={};function k(e){var t=e.config,r=e.debug,n=e.dispatchEvent,o=e.subscribeTo,a=void 0===o?s:o,i=e.editorUrl,u=e.element,l=e.initContent,f=e.type,p=void 0===f?"classic":f,m=x(i||"https://cdn.ckeditor.com/4.17.2/standard-all/ckeditor.js"),b=x(null!=a?a:s),h=x(r),v=x(n),O=x(l),S=x(t||P),E=x(p),k=w(D,{editor:void 0,hookStatus:"init"}),R=k[0],T=R.editor,_=R.hookStatus,$=k[1];return C((function(){if(u&&!T){$({type:"loading"});j(m.current,(function(e){var t;-1!==b.current.indexOf("namespaceLoaded")&&(null===(t=v.current)||void 0===t||t.call(v,{type:y.namespaceLoaded,payload:e}))})).then((function(e){var t,r="inline"===E.current,n=S.current.readOnly;-1!==b.current.indexOf("beforeLoad")&&(null===(t=v.current)||void 0===t||t.call(v,{type:y.beforeLoad,payload:e}));var o=e[r?"inline":"replace"](u,S.current);b.current.filter((function(e){return-1===c.indexOf(e)})).forEach((function(e){g({debug:h.current,editor:o,evtName:e,handler:function(t){var r;null===(r=v.current)||void 0===r||r.call(v,{type:"".concat(d).concat(e),payload:t})}})})),g({debug:h.current,editor:o,evtName:"loaded",handler:function(){$({type:"loaded"})},priority:-1}),g({debug:h.current,editor:o,evtName:"instanceReady",handler:function(e){var t=e.editor;$({type:"ready"}),r&&!n&&t.setReadOnly(!1),O.current&&t.setData(O.current,{noSnapshot:!0,callback:function(){t.resetUndo()}})},priority:-1}),g({debug:h.current,editor:o,evtName:"destroy",handler:function(){$({type:"destroyed"})},priority:-1}),$({type:"unloaded",payload:o})})).catch((function(e){console.error(e),$({type:"error"})}))}return function(){T&&T.destroy()}}),[T,u]),{editor:T,status:null==T?void 0:T.status,error:"error"===_,loading:"loading"===_}}function D(e,t){switch(t.type){case"init":return o(o({},e),{hookStatus:"init"});case"loading":return o(o({},e),{hookStatus:"loading"});case"unloaded":return{editor:t.payload,hookStatus:"unloaded"};case"loaded":return o(o({},e),{hookStatus:"loaded"});case"ready":return o(o({},e),{hookStatus:"ready"});case"destroyed":return{editor:void 0,hookStatus:"destroyed"};case"error":return{editor:void 0,hookStatus:"error"};default:return e}}var R={exports:{}},T={},_="function"==typeof Symbol&&Symbol.for,$=_?Symbol.for("react.element"):60103,L=_?Symbol.for("react.portal"):60106,U=_?Symbol.for("react.fragment"):60107,I=_?Symbol.for("react.strict_mode"):60108,M=_?Symbol.for("react.profiler"):60114,N=_?Symbol.for("react.provider"):60109,F=_?Symbol.for("react.context"):60110,K=_?Symbol.for("react.async_mode"):60111,A=_?Symbol.for("react.concurrent_mode"):60111,H=_?Symbol.for("react.forward_ref"):60112,z=_?Symbol.for("react.suspense"):60113,q=_?Symbol.for("react.suspense_list"):60120,W=_?Symbol.for("react.memo"):60115,B=_?Symbol.for("react.lazy"):60116,V=_?Symbol.for("react.block"):60121,G=_?Symbol.for("react.fundamental"):60117,Y=_?Symbol.for("react.responder"):60118,Z=_?Symbol.for("react.scope"):60119;function J(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case $:switch(e=e.type){case K:case A:case U:case M:case I:case z:return e;default:switch(e=e&&e.$$typeof){case F:case H:case B:case W:case N:return e;default:return t}}case L:return t}}}function Q(e){return J(e)===A}T.AsyncMode=K,T.ConcurrentMode=A,T.ContextConsumer=F,T.ContextProvider=N,T.Element=$,T.ForwardRef=H,T.Fragment=U,T.Lazy=B,T.Memo=W,T.Portal=L,T.Profiler=M,T.StrictMode=I,T.Suspense=z,T.isAsyncMode=function(e){return Q(e)||J(e)===K},T.isConcurrentMode=Q,T.isContextConsumer=function(e){return J(e)===F},T.isContextProvider=function(e){return J(e)===N},T.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===$},T.isForwardRef=function(e){return J(e)===H},T.isFragment=function(e){return J(e)===U},T.isLazy=function(e){return J(e)===B},T.isMemo=function(e){return J(e)===W},T.isPortal=function(e){return J(e)===L},T.isProfiler=function(e){return J(e)===M},T.isStrictMode=function(e){return J(e)===I},T.isSuspense=function(e){return J(e)===z},T.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===U||e===A||e===M||e===I||e===z||e===q||"object"==typeof e&&null!==e&&(e.$$typeof===B||e.$$typeof===W||e.$$typeof===N||e.$$typeof===F||e.$$typeof===H||e.$$typeof===G||e.$$typeof===Y||e.$$typeof===Z||e.$$typeof===V)},T.typeOf=J;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==n.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()||Object.assign;Function.call.bind(Object.prototype.hasOwnProperty);function X(){}function ee(){}ee.resetWarningCache=X;R.exports=function(){function e(e,t,r,n,o,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ee,resetWarningCache:X};return r.PropTypes=r,r}();var te=n.useEffect,re=n.useRef,ne=n.useState;function oe(e){var t=e.config,r=void 0===t?{}:t,o=e.debug,a=e.editorUrl,i=e.initData,c=e.name,s=e.readOnly,d=e.style,u=e.type,y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["config","debug","editorUrl","initData","name","readOnly","style","type"]),g=ne(null),h=g[0],v=g[1],O=re(y);r&&"boolean"==typeof s&&(r.readOnly=s);var S=k({config:r,dispatchEvent:function(e){var t=e.type,r=e.payload,n=f(l(t)),o=O.current[n];o&&o(r)},debug:o,editorUrl:a,element:h,initContent:"string"==typeof i?i:void 0,subscribeTo:Object.keys(y).filter((function(e){return 0===e.indexOf("on")})).map(p),type:u}),E=S.editor,j=S.status;return te((function(){var e="inline"!==u&&E&&("loaded"===j||"ready"===j);return d&&e&&E.container.setStyles(d),function(){d&&e&&Object.keys(d).map(m).forEach((function(e){E.container.removeStyle(e)}))}}),[E,j,d,u]),te((function(){E&&"ready"===j&&"boolean"==typeof s&&E.setReadOnly(s)}),[E,j,s]),n.createElement("div",{id:null!=c?c:void 0,ref:v,style:b(null!=u?u:"classic",j,d)},"string"==typeof i?null:i)}var ae=o({config:R.exports.object,debug:R.exports.bool,editorUrl:R.exports.string,initData:R.exports.node,name:R.exports.string,readOnly:R.exports.bool,style:R.exports.object,type:R.exports.oneOf(["classic","inline"])},s.reduce((function(e,t){var r;return o(o({},e),((r={})[f(t)]=R.exports.func,r))}),{}));oe.propTypes=ae,e.CKEditor=oe,e.CKEditorEventAction=y,e.prefixEventName=u,e.registerEditorEventHandler=g,e.stripPrefix=l,e.useCKEditor=k,Object.defineProperty(e,"__esModule",{value:!0})}));
