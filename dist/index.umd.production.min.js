/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).CKEditor4React={},e.React)}(this,(function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n=r(t),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e}var i=["activeEnterModeChange","activeFilterChange","afterCommandExec","afterInsertHtml","afterPaste","afterPasteFromWord","afterSetData","afterUndoImage","ariaEditorHelpLabel","ariaWidget","autogrow","beforeCommandExec","beforeDestroy","beforeGetData","beforeModeUnload","beforeSetMode","beforeUndoImage","blur","change","configLoaded","contentDirChanged","contentDom","contentDomInvalidated","contentDomUnload","contentPreview","customConfigLoaded","dataFiltered","dataReady","destroy","dialogHide","dialogShow","dirChanged","doubleclick","dragend","dragstart","drop","elementsPathUpdate","exportPdf","fileUploadRequest","fileUploadResponse","floatingSpaceLayout","focus","getData","getSnapshot","insertElement","insertHtml","insertText","instanceReady","key","langLoaded","loadSnapshot","loaded","lockSnapshot","maximize","menuShow","mode","notificationHide","notificationShow","notificationUpdate","paste","pasteFromWord","pluginsLoaded","readOnly","removeFormatCleanup","required","resize","save","saveSnapshot","selectionChange","setData","stylesRemove","stylesSet","template","toDataFormat","toHtml","uiSpace","unlockSnapshot","updateSnapshot","widgetDefinition"],c=["beforeLoad","namespaceLoaded"],u=a(a([],i),c),s="__CKE__";function d(e){return"__CKE__"+e}function l(e){return e.substr(s.length)}function f(e){return"on"+(e.substr(0,1).toUpperCase()+e.substr(1))}function p(e){return e.substr(2,1).toLowerCase()+e.substr(3)}var y,m=a(a([],i),c).reduce((function(e,t){var r;return o(o({},e),((r={})[t]=d(t),r))}),{});function b(e){return e.split(/(?=[A-Z])/).join("-").toLowerCase()}function g(e,t,r){var n={display:"none",visibility:"hidden"};return"classic"===e?n:"ready"===t?null!=r?r:void 0:n}function h(e){var t=e.debug,r=e.editor,n=e.evtName,o=e.handler,a=e.listenerData,i=e.priority,c=t&&Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),u=o;return t&&(u=function(e){console.log({operation:"invoke",editor:r.name,evtName:n,handlerId:c,data:e.data,listenerData:e.listenerData}),o(e)}),t&&console.log({operation:"register",editor:r.name,evtName:n,handlerId:c}),r.on(n,u,null,a,i),function(){t&&console.log({operation:"unregister",editor:r.name,evtName:n,handlerId:c}),r.removeListener(n,u)}}function v(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function O(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}function S(e,t){return"CKEDITOR"in window?Promise.resolve(CKEDITOR):"string"!=typeof e||e.length<1?Promise.reject(new TypeError("CKEditor URL must be a non-empty string.")):(y||(y=S.scriptLoader(e).then((function(e){return t&&t(e),e}))),y)}S.scriptLoader=function(e){return new Promise((function(t,r){var n,o,a,i,c;n=e,o=function(e){return y=void 0,e?r(e):window.CKEDITOR?void t(CKEDITOR):r(new Error("Script loaded from editorUrl doesn't provide CKEDITOR namespace."))},i=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script"),"function"==typeof o&&(a=o,o={}),o=o||{},a=a||function(){},c.type=o.type||"text/javascript",c.charset=o.charset||"utf8",c.async=!("async"in o)||!!o.async,c.src=n,o.attrs&&function(e,t){for(var r in t)e.setAttribute(r,t[r])}(c,o.attrs),o.text&&(c.text=String(o.text)),("onload"in c?v:O)(c,a),c.onload||v(c,a),i.appendChild(c)}))};var E=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){clearTimeout(r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];r=setTimeout(e.bind.apply(e,[n].concat(a)),t)}},C=S;Object.defineProperty({debounce:E,getEditorNamespace:C},"__esModule",{value:!0});var j=n.useEffect,w=n.useReducer,P=n.useRef,_={};function x(e){var t=e.config,r=e.debug,n=e.dispatchEvent,o=e.subscribeTo,a=void 0===o?u:o,i=e.editorUrl,s=e.element,d=e.initContent,l=e.type,f=void 0===l?"classic":l,p=P(i||"https://cdn.ckeditor.com/4.16.1/standard-all/ckeditor.js"),y=P(null!=a?a:u),b=P(r),g=P(n),v=P(d),O=P(t||_),S=P(f),E=w(k,{editor:void 0,hookStatus:"init"}),x=E[0],D=x.editor,R=x.hookStatus,T=E[1];return j((function(){if(s&&!D){T({type:"loading"});C(p.current,(function(e){var t;-1!==y.current.indexOf("namespaceLoaded")&&(null===(t=g.current)||void 0===t||t.call(g,{type:m.namespaceLoaded,payload:e}))})).then((function(e){var t,r="inline"===S.current,n=O.current.readOnly;-1!==y.current.indexOf("beforeLoad")&&(null===(t=g.current)||void 0===t||t.call(g,{type:m.beforeLoad,payload:e}));var o=e[r?"inline":"replace"](s,O.current);y.current.filter((function(e){return-1===c.indexOf(e)})).forEach((function(e){h({debug:b.current,editor:o,evtName:e,handler:function(t){var r;null===(r=g.current)||void 0===r||r.call(g,{type:"__CKE__"+e,payload:t})}})})),h({debug:b.current,editor:o,evtName:"loaded",handler:function(){T({type:"loaded"})},priority:-1}),h({debug:b.current,editor:o,evtName:"instanceReady",handler:function(e){var t=e.editor;T({type:"ready"}),r&&!n&&t.setReadOnly(!1),v.current&&t.setData(v.current,{noSnapshot:!0,callback:function(){t.resetUndo()}})},priority:-1}),h({debug:b.current,editor:o,evtName:"destroy",handler:function(){T({type:"destroyed"})},priority:-1}),T({type:"unloaded",payload:o})})).catch((function(e){console.error(e),T({type:"error"})}))}return function(){D&&D.destroy()}}),[D,s]),{editor:D,status:null==D?void 0:D.status,error:"error"===R,loading:"loading"===R}}function k(e,t){switch(t.type){case"init":return o(o({},e),{hookStatus:"init"});case"loading":return o(o({},e),{hookStatus:"loading"});case"unloaded":return{editor:t.payload,hookStatus:"unloaded"};case"loaded":return o(o({},e),{hookStatus:"loaded"});case"ready":return o(o({},e),{hookStatus:"ready"});case"destroyed":return{editor:void 0,hookStatus:"destroyed"};case"error":return{editor:void 0,hookStatus:"error"};default:return e}}function D(e){var t={exports:{}};return e(t,t.exports),t.exports}var R="function"==typeof Symbol&&Symbol.for,T=R?Symbol.for("react.element"):60103,$=R?Symbol.for("react.portal"):60106,L=R?Symbol.for("react.fragment"):60107,U=R?Symbol.for("react.strict_mode"):60108,I=R?Symbol.for("react.profiler"):60114,M=R?Symbol.for("react.provider"):60109,N=R?Symbol.for("react.context"):60110,F=R?Symbol.for("react.async_mode"):60111,K=R?Symbol.for("react.concurrent_mode"):60111,H=R?Symbol.for("react.forward_ref"):60112,z=R?Symbol.for("react.suspense"):60113,A=R?Symbol.for("react.suspense_list"):60120,q=R?Symbol.for("react.memo"):60115,W=R?Symbol.for("react.lazy"):60116,B=R?Symbol.for("react.block"):60121,V=R?Symbol.for("react.fundamental"):60117,G=R?Symbol.for("react.responder"):60118,Y=R?Symbol.for("react.scope"):60119;function Z(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case T:switch(e=e.type){case F:case K:case L:case I:case U:case z:return e;default:switch(e=e&&e.$$typeof){case N:case H:case W:case q:case M:return e;default:return t}}case $:return t}}}function J(e){return Z(e)===K}var Q={AsyncMode:F,ConcurrentMode:K,ContextConsumer:N,ContextProvider:M,Element:T,ForwardRef:H,Fragment:L,Lazy:W,Memo:q,Portal:$,Profiler:I,StrictMode:U,Suspense:z,isAsyncMode:function(e){return J(e)||Z(e)===F},isConcurrentMode:J,isContextConsumer:function(e){return Z(e)===N},isContextProvider:function(e){return Z(e)===M},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===T},isForwardRef:function(e){return Z(e)===H},isFragment:function(e){return Z(e)===L},isLazy:function(e){return Z(e)===W},isMemo:function(e){return Z(e)===q},isPortal:function(e){return Z(e)===$},isProfiler:function(e){return Z(e)===I},isStrictMode:function(e){return Z(e)===U},isSuspense:function(e){return Z(e)===z},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===L||e===K||e===I||e===U||e===z||e===A||"object"==typeof e&&null!==e&&(e.$$typeof===W||e.$$typeof===q||e.$$typeof===M||e.$$typeof===N||e.$$typeof===H||e.$$typeof===V||e.$$typeof===G||e.$$typeof===Y||e.$$typeof===B)},typeOf:Z};D((function(e,t){})),D((function(e){e.exports=Q}));Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()||Object.assign;function X(){}function ee(){}Function.call.bind(Object.prototype.hasOwnProperty),ee.resetWarningCache=X;var te=D((function(e){e.exports=function(){function e(e,t,r,n,o,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ee,resetWarningCache:X};return r.PropTypes=r,r}()})),re=n.useEffect,ne=n.useRef,oe=n.useState;function ae(e){var t=e.config,r=void 0===t?{}:t,o=e.debug,a=e.editorUrl,i=e.initData,c=e.name,u=e.readOnly,s=e.style,d=e.type,y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["config","debug","editorUrl","initData","name","readOnly","style","type"]),m=oe(null),h=m[0],v=m[1],O=ne(y);r&&"boolean"==typeof u&&(r.readOnly=u);var S=x({config:r,dispatchEvent:function(e){var t=e.type,r=e.payload,n=f(l(t)),o=O.current[n];o&&o(r)},debug:o,editorUrl:a,element:h,initContent:"string"==typeof i?i:void 0,subscribeTo:Object.keys(y).filter((function(e){return 0===e.indexOf("on")})).map(p),type:d}),E=S.editor,C=S.status;return re((function(){var e="inline"!==d&&E&&("loaded"===C||"ready"===C);return s&&e&&E.container.setStyles(s),function(){s&&e&&Object.keys(s).map(b).forEach((function(e){E.container.removeStyle(e)}))}}),[E,C,s,d]),re((function(){E&&"ready"===C&&"boolean"==typeof u&&E.setReadOnly(u)}),[E,C,u]),n.createElement("div",{id:null!=c?c:void 0,ref:v,style:g(null!=d?d:"classic",C,s)},"string"==typeof i?null:i)}var ie=o({config:te.object,debug:te.bool,editorUrl:te.string,initData:te.node,name:te.string,readOnly:te.bool,style:te.object,type:te.oneOf(["classic","inline"])},u.reduce((function(e,t){var r;return o(o({},e),((r={})[f(t)]=te.func,r))}),{}));ae.propTypes=ie,e.CKEditor=ae,e.CKEditorEventAction=m,e.prefixEventName=d,e.registerEditorEventHandler=h,e.stripPrefix=l,e.useCKEditor=x,Object.defineProperty(e,"__esModule",{value:!0})}));
